{% import 'appbuilder/general/lib.html' as lib %}

<form id="filter_form" class="form-search" method="get">
<div class="table-responsive">

    <div class="btn-group">
  	<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
    		Action <span class="caret"></span>
  	</button>
    <ul class="dropdown-menu" role="menu">
    {% for col in include_cols %}
    <li>
    	<a href="javascript:void(0)" name={{col}} class="filter" onclick="return false;">{{ label_columns[col] }}</a>
    </li>
    {% endfor %}
    </ul>
    </div>
    
    <table class="table table-condensed filters">
       
    </table>

<table class="table table-condensed">    
    {% for col in include_cols %}
   		{% set field = form[col] %}
		{% if field.name not in exclude_cols %}
			<tr>{{ lib.render_field_search(field) }}</tr>
		{% endif %}
	{% endfor %}
    
</table>
</div>
{{ lib.btn_search() }}
</form>

<script>
	(function($) {
	var filter = new AdminFilters(
                    '#filter_form',
                    {{ label_columns | tojson | safe }},
                    {{ form_fields | tojson | safe }},
                    {{ search_filters | tojson | safe }},
                    {{ active_filters | tojson | safe }}                                        
                );
	})(jQuery);
	
</script>
